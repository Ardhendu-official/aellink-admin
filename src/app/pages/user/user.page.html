<ion-header>
  <ion-toolbar>
    <ion-title>All User</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <div class="ion-padding">
      <mat-form-field appearance="outline">
        <mat-label>Search</mat-label>
        <input
          matInput
          autocomplete="off"
          (keyup)="applyFilter($event)"
          placeholder="Ex. UserName"
          #input
        />
      </mat-form-field>

      <div *ngIf="dataSource" class="mat-elevation-z0">
        <table mat-table [dataSource]="dataSource">
          <!-- ID Column -->
          <ng-container matColumnDef="user_id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
            <td mat-cell *matCellDef="let row">{{row.user_id}}</td>
          </ng-container>

          <!-- Image Column -->
          <ng-container matColumnDef="user_image">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Image</th>
            <td
              class="ion-nowrap"
              style="padding: 0px !important"
              md-cell
              *matCellDef="let row"
            >
            <ion-avatar>
              <img src="{{row.user_image}}" />
            </ion-avatar>
              <!-- <img
                height="70px"
                width="70px"
                src="{{row.user_image}}"
                alt=""
              /> -->
            </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="user_fname">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
            <td mat-cell *matCellDef="let row">{{row.user_fname}} {{row.user_lname}}</td>
          </ng-container>

          <!-- Status Column -->
          <ng-container matColumnDef="user_status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
            <td mat-cell *matCellDef="let row">
              <ion-icon
                *ngIf="row.user_status=='active'"
                color="success"
                style="font-size: 32px"
                name="checkmark-circle"
              ></ion-icon>
            </td>
          </ng-container>

          <!-- Description Column -->
          <ng-container matColumnDef="user_balence">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Balence
            </th>
            <td mat-cell *matCellDef="let row">{{row.user_balence | currency:'INR':'symbol-narrow':'3.2-2'}}</td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Actions</th>
            <td
              class="ion-nowrap"
              style="padding: 0px !important"
              md-cell
              *matCellDef="let row"
            >
              <ion-buttons>
                <ion-button (click)="open()" mode="ios" color="primary" md-raised-button
                  ><ion-icon name="open-outline" style="font-size: 32px"></ion-icon
                ></ion-button>
                <ion-button mode="ios" color="danger" md-raised-button
                  ><ion-icon name="trash-outline" style="font-size: 32px"></ion-icon
                ></ion-button>
              </ion-buttons>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell ion-text-center" colspan="4">
              No data matching the filter "{{input.value}}"
            </td>
          </tr>
        </table>
        <mat-paginator
          [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
        ></mat-paginator>
      </div>
    </div>
  </div>
</ion-content>
